var modalOpen=document.querySelector("#js-write-us"),modalContent=document.querySelector(".modal-content"),modalClose=document.querySelector("#js-modal-close"),modalForm=document.querySelector(".modal-form"),modalLogin=document.querySelector("#js-modal-login"),modalEmail=document.querySelector("#js-modal-email"),modalText=document.querySelector("#js-modal-text"),modalLoginStorage=localStorage.getItem("modalLogin"),modalEmailStorage=localStorage.getItem("modalEmail"),mapOpen=document.querySelector("#js-open-map"),modalMap=document.querySelector(".modal-content-map"),mapClose=document.querySelector("#js-map-close");modalOpen.addEventListener("click",function(a){a.preventDefault(),modalContent.classList.add("modal-content-show"),modalLoginStorage&&modalEmailStorage?(modalLogin.value=modalLoginStorage,modalEmail.value=modalEmailStorage,modalText.focus()):modalLogin.focus()}),modalForm.addEventListener("submit",function(a){modalLogin.value?localStorage.setItem("modalLogin",modalLogin.value):(a.preventDefault(),modalLogin.classList.add("modal-form-invalid")),modalEmail.value?localStorage.setItem("modalEmail",modalEmail.value):(a.preventDefault(),modalEmail.classList.add("modal-form-invalid")),modalText.value?localStorage.setItem("modalText",modalText.value):(a.preventDefault(),modalText.classList.add("modal-form-invalid"))}),modalLogin.addEventListener("focus",function(a){modalLogin.classList.contains("modal-form-invalid")&&modalLogin.classList.remove("modal-form-invalid")}),modalEmail.addEventListener("focus",function(a){modalEmail.classList.contains("modal-form-invalid")&&modalEmail.classList.remove("modal-form-invalid")}),modalText.addEventListener("focus",function(a){modalText.classList.contains("modal-form-invalid")&&modalText.classList.remove("modal-form-invalid")}),modalClose.addEventListener("click",function(a){a.preventDefault(),modalContent.classList.remove("modal-content-show"),modalLogin.classList.remove("modal-form-invalid"),modalEmail.classList.remove("modal-form-invalid"),modalText.classList.remove("modal-form-invalid")}),mapOpen.addEventListener("click",function(a){a.preventDefault(),modalMap.classList.add("modal-content-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),modalMap.classList.remove("modal-content-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&(modalContent.classList.contains("modal-content-show")&&(modalContent.classList.remove("modal-content-show"),modalLogin.classList.remove("modal-form-invalid"),modalEmail.classList.remove("modal-form-invalid"),modalText.classList.remove("modal-form-invalid")),modalMap.classList.contains("modal-content-show")&&modalMap.classList.remove("modal-content-show"))});
