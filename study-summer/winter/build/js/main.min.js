
(function(){var phone=document.querySelector('.request__input[type=tel]');phone.addEventListener('focus',function(){phone.value='+380';var label=this.nextElementSibling;label.classList.add('request__label--active');});phone.addEventListener('input',function(){var currentValue=phone.value;var regExp=/[^\d+]/;if(regExp.test(currentValue)){currentValue=currentValue.replace(regExp,'');phone.value=currentValue;}});var inputs=document.querySelectorAll('.request__input');for(var i=0;i<inputs.length;i++){inputs[i].addEventListener('input',function(){if(this.checkValidity()){this.classList.remove('request__input--invalid');this.classList.add('request__input--valid');}else{this.classList.add('request__input--invalid');this.classList.remove('request__input--valid');}
var label=this.nextElementSibling;var inputValue=this.value;if(inputValue==''){label.classList.remove('request__label--active');this.classList.remove('request__input--invalid');}else{label.classList.add('request__label--active');}});}
var form=document.querySelector('.request__form');var sorry=document.querySelector('.sorry');var overlay=document.querySelector('.popup__overlay');form.addEventListener('submit',function(evt){var email=form.querySelector('#email').value;if(email==localStorage.getItem('email')){evt.preventDefault();sorry.classList.remove('sorry--hide');overlay.classList.remove('popup__overlay--hide');}
localStorage.setItem('email',email);});overlay.addEventListener('click',function(){sorry.classList.add('sorry--hide');overlay.classList.add('popup__overlay--hide');});document.body.addEventListener('keydown',function(evt){if(evt.keyCode==27){sorry.classList.add('sorry--hide');overlay.classList.add('popup__overlay--hide');}});})();(function(){var button=document.querySelector('.nav__menu');var nav=document.querySelector('.nav__list');var links=document.querySelectorAll('.nav__link');button.addEventListener('click',function(){if(button.classList.contains('nav__menu--open')){nav.classList.add('nav__list--show');button.classList.remove('nav__menu--open');button.classList.add('nav__menu--close');}else{nav.classList.remove('nav__list--show');button.classList.remove('nav__menu--close');button.classList.add('nav__menu--open');}});for(var i=0;i<links.length;i++){links[i].addEventListener('click',function(){nav.classList.remove('nav__list--show');button.classList.remove('nav__menu--close');button.classList.add('nav__menu--open');});}})();(function(){var offer=document.querySelector('.offer');var close=document.querySelector('.offer__close');var flag=localStorage.getItem('close');if(flag=='true'){offer.classList.add('offer--hide');}else{offer.classList.remove('offer--hide');}
close.addEventListener('click',function(){offer.classList.add('offer--hide');localStorage.setItem('close','true');});})();(function(){var items=document.querySelectorAll('.photo__item');var webp=document.querySelectorAll('.photo__webp');var jpg=document.querySelectorAll('.photo__jpg');var popup=document.querySelector('.popup');var popupImage=document.querySelector('.popup__jpg');var prev=document.querySelector('.popup__control--prev');var next=document.querySelector('.popup__control--next');var overlay=document.querySelector('.popup__overlay');var currentPhoto=0;var index=[];for(var i=0;i<items.length;i++){index.push(items[i]);items[i].addEventListener('click',function(evt){currentPhoto=index.indexOf(evt.currentTarget);showPopup(currentPhoto);});}
var showPopup=function(){if(currentPhoto<0){currentPhoto=11;}else if(currentPhoto>11){currentPhoto=0;}
var webpSource=webp[currentPhoto].srcset;var jpgSource=jpg[currentPhoto].src;if(document.body.clientWidth>768){webpSource=webp[currentPhoto].srcset.replace('-mobile','');jpgSource=jpg[currentPhoto].src.replace('-mobile','');}
popup.querySelector('.popup__webp').srcset=webpSource;popup.querySelector('.popup__jpg').src=jpgSource;popup.classList.remove('popup--hide');overlay.classList.remove('popup__overlay--hide');};prev.addEventListener('click',function(){currentPhoto--;showPopup(currentPhoto);});next.addEventListener('click',function(){currentPhoto++;showPopup(currentPhoto);});document.body.addEventListener('keydown',function(evt){if(evt.keyCode==27){popup.classList.add('popup--hide');overlay.classList.add('popup__overlay--hide');}});var previewList=document.querySelector('.photo__slider');var mobilePrev=document.querySelector('.photo__button--prev');var mobileNext=document.querySelector('.photo__button--next');var currentPosition=0;var previewSwap=function(){if(currentPosition>11){currentPosition=0;}else if(currentPosition<0){currentPosition=11;}
previewList.style.left='-'+currentPosition*100+'%';};mobileNext.addEventListener('click',function(){currentPosition++;previewSwap(currentPosition);});mobilePrev.addEventListener('click',function(){currentPosition--;previewSwap(currentPosition);});var clientWidth=document.body.clientWidth;popupImage.addEventListener('touchstart',function(evt){pozXStart=evt.changedTouches[0].pageX;});popupImage.addEventListener('touchmove',function(evt){if(pozXStart>clientWidth/2){popup.style.left='40%';}else{popup.style.left='60%';}});popupImage.addEventListener('touchend',function(evt){popup.style.left='50%';pozXEnd=evt.changedTouches[0].pageX;if(pozXStart>clientWidth/2){currentPhoto++;}else{currentPhoto--;}
showPopup(currentPhoto);currentPosition=currentPhoto;previewSwap(currentPosition);});overlay.addEventListener('click',function(){popup.classList.add('popup--hide');overlay.classList.add('popup__overlay--hide');});})();var programsData=[{full:false,href:'https://holidays.study.ua/winter/program/london-winter-holidays-14.html',webp:'img/program-1.webp',jpg:'img/program-1.jpg',alt:'London Winter Holidays',name:'London Winter Holidays',location:'Лондон',date:'<a href="https://holidays.study.ua/winter/program/london-winter-holidays-14.html" taget="_blank">04.01 - 18.01 (2 нед.)</a>',cost:'$3500 (2 нед.)'},{full:false,href:'https://holidays.study.ua/winter/program/toronto-academic-holidays.html',webp:'img/program-2.webp',jpg:'img/program-2.jpg',alt:'Toronto Academic Holidays',name:'Toronto Academic Holidays',location:'Торонто',date:'<a href="https://holidays.study.ua/winter/program/toronto-academic-holidays.html">04.01 - 18.01 (2 нед.)</a>',cost:'$4150 (2 нед.)'},{full:false,href:'https://holidays.study.ua/winter/program/canadian-high-school.html',webp:'img/program-3.webp',jpg:'img/program-3.jpg',alt:'Canadian High School',name:'Canadian High School',location:'Гамильтон',date:'<a href="https://holidays.study.ua/winter/program/canadian-high-school.html">04.01 - 18.01 (2 нед.)</a>',cost:'$4350 (2 нед.)'},{full:false,href:'https://holidays.study.ua/winter/program/explore-toronto.html',webp:'img/program-4.webp',jpg:'img/program-4.jpg',alt:'Explore Toronto',name:'Explore Toronto',location:'Торонто',date:'<a href="https://holidays.study.ua/winter/program/explore-toronto.html">04.01 - 18.01 (2 нед.)</a>',cost:'$3900 (2 нед.)'},{full:false,href:'https://holidays.study.ua/winter/program/discover-california.html',webp:'img/program-5.webp',jpg:'img/program-5.jpg',alt:'Discover California',name:'Discover California',location:'Лос-Анджелес',date:'<a href="https://holidays.study.ua/winter/program/discover-california.html">04.01 - 18.01 (2 нед.)</a>',cost:'$5150 (2 нед.)'}];(function(){var listButton=document.querySelector('.programs__button--list');var tileButton=document.querySelector('.programs__button--tile');var list=document.querySelector('.programs__list');listButton.addEventListener('click',function(){list.classList.add('programs__list--column');var item=document.querySelectorAll('.programs__item');listButton.classList.add('programs__button--active');tileButton.classList.remove('programs__button--active');for(var i=0;i<item.length;i++){item[i].classList.add('programs__item--column');}});tileButton.addEventListener('click',function(){list.classList.remove('programs__list--column');var item=document.querySelectorAll('.programs__item');tileButton.classList.add('programs__button--active');listButton.classList.remove('programs__button--active');for(var i=0;i<item.length;i++){item[i].classList.remove('programs__item--column');}});})();(function(){var list=document.querySelector('.programs__list');var load=document.querySelector('.programs__load');var listButton=document.querySelector('.programs__button--list');var programsTemplate=document.querySelector('.programs__template').content;if(document.body.clientWidth<=768){programsCounter=5;programsIncrement=5;}else if(document.body.clientWidth>768){programsCounter=5;programsIncrement=5;}
renderPrograms();function clearPrograms(){var item=document.querySelectorAll('.programs__item');for(var j=0;j<item.length;j++){item[j].remove();}};function renderPrograms(){var programsLength=programsData.slice(0,programsCounter).length;for(var i=0;i<programsLength;i++){var item=document.createElement('li');item.classList.add('programs__item');if(listButton.classList.contains('programs__button--active')){item.classList.add('programs__item--column');}
var content=programsTemplate.cloneNode(true);if(programsData[i].full){content.querySelector('.programs__full').style.display='block';}
content.querySelector('.programs__link').href=programsData[i].href;content.querySelector('source').srcset=programsData[i].webp;content.querySelector('img').src=programsData[i].jpg;content.querySelector('img').alt=programsData[i].alt;content.querySelector('.programs__name').innerHTML=programsData[i].name;content.querySelector('.programs__location').innerHTML=programsData[i].location;content.querySelector('.programs__date').innerHTML=programsData[i].date;content.querySelector('.programs__cost').innerHTML=programsData[i].cost;item.appendChild(content);list.appendChild(item);}};})();(function(){var openButtons=document.querySelectorAll('.reviews__open');var videoWrapper=document.querySelector('.reviews__container');var video=document.querySelector('.reviews__iframe');var overlay=document.querySelector('.popup__overlay');var openButtonsArray=[];for(var i=0;i<openButtons.length;i++){openButtonsArray.push(openButtons[i]);openButtons[i].addEventListener('click',function(evt){var indexButton=openButtonsArray.indexOf(evt.target);videoWrapper.classList.remove('reviews__container--hide');overlay.classList.remove('popup__overlay--hide');if(indexButton==0){video.src='https://www.youtube.com/embed/AsEZlS0epI4?&autoplay=1';}else if(indexButton==1){video.src='https://www.youtube.com/embed/snx6LOb2bno?&autoplay=1';}else{video.src='https://www.youtube.com/embed/dVKHwTR9Tws?&autoplay=1';}});}
overlay.addEventListener('click',function(){videoWrapper.classList.add('reviews__container--hide');video.src='';overlay.classList.add('popup__overlay--hide');});})();(function(){var slides=document.querySelectorAll('.slider__item');var prev=document.querySelector('.slider__control--prev');var next=document.querySelector('.slider__control--next');var dots=document.querySelectorAll('.slider__dot');var currentSlide=0;var showSlide=function(){if(currentSlide>4){currentSlide=0;}else if(currentSlide<0){currentSlide=4;};slides[currentSlide].classList.add('slider__item--show');dots[currentSlide].classList.add('slider__dot--active');};next.addEventListener('click',function(){slides[currentSlide].classList.remove('slider__item--show');dots[currentSlide].classList.remove('slider__dot--active');currentSlide++;showSlide(currentSlide);});prev.addEventListener('click',function(){slides[currentSlide].classList.remove('slider__item--show');dots[currentSlide].classList.remove('slider__dot--active');currentSlide--;showSlide(currentSlide);});var dotsArray=[];for(var i=0;i<dots.length;i++){dotsArray.push(dots[i]);dots[i].addEventListener('click',function(e){slides[currentSlide].classList.remove('slider__item--show');dots[currentSlide].classList.remove('slider__dot--active');currentSlide=dotsArray.indexOf(e.target);showSlide(currentSlide);});};var slideInterval=setInterval(function(){slides[currentSlide].classList.remove('slider__item--show');dots[currentSlide].classList.remove('slider__dot--active');currentSlide++;showSlide(currentSlide);},4000);})();(function(){var video=document.querySelector('.about__iframe');var button=document.querySelector('.about__play');button.addEventListener('click',function(){button.classList.add('about__play--hide');video.src='https://www.youtube.com/embed/eOnwaoM_Dlc?&autoplay=1';});})();